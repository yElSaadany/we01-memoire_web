# Développement d'un site web low-tech

Assez de théorie place à la pratique !

Nous avons eu l'occasion lors des derniers chapitres d'apprendre ce qu'était le low-tech ainsi que sa déclinaison aux sites web. Nous avions notamment appris que la création d'un site web low-tech passait par certains changements d'habitudes de déveppement mais pas uniquement.

### Sites web statiques
Par statiques nous entendons qui ne sont pas dynamique, donc renvoyant une page HTML qui ne s'adapte pas à l'utilisateur et dont le contenu restera le même tant qu'un développeur ne le modifie pas.
Autrement dit, tous les utilisateurs recevront les mêmes pages web, il n'y a donc pas d'appel à une base de données pour récupérer des informations de l'utilisateur par exemple.

Etre statiques n'est pas possible pour certains sites, ils demandent souvent des appels à des bases de données afin de gérer des comptes et des données applicatifs.  Bien qu'il y en ait un certain nombre qui pourraient l'être mais s'appuient tout de même sur des appels extérieurs (comme vers une base de données ou un CDN\*), par exemple dans le chapitre précédent nous avions parlé du fait que Wikipédia pouvait stocker "facilement" tous ces articles en tant que page HTML et donc aussi ne plus utiliser de fonction de compte. Il ne le feront pas car ce système est efficace, les comptes permettent de garder une trace de qui écrit quoi sur quel article pour des raisons politiques et judiciaires. En règle générale, on peut considérer que si l'identification n'est pas nécessaire et que les données ne viennent pas d'une source extérieure (comme d'APIs par exemple), un site peut être statique.

Une des raisons pour lesquelles le low-tech préfère les sites statiques et que, puisque que les serveurs les hébergeant ont besoin de moins de puissance de calcul, ils ont donc besoin de moins d'énergie et donc potentiellement ils pourront être alimenté à l'aide d'énergie renouvelable comme l'énergie solaire. Prenons l'exemple de [LowTech Magazine Solar](https://solar.lowtechmagazine.com/) qui tourne sur un Raspberry Pi alimenté à l'énergie solaire. Bien que leur blog puisse bénéficier d'une base de données pour stocker les articles, ils ont fait le choix du low-tech et héberge directement les versions HTML des articles, c'est-à-dire sous la forme de plusieurs fichiers statiques. En utilisant un système de bases de données ils auraient gagné en résilience des données ("disponibilité" des données) mais perdu en temps de chargement à cause du temps de rafraichissement des BDD et du poids du blog qui serait augmenté.

Il peut être intéressant de noter que cette approche est en accord avec un des principes fondamentaux de la sécurité informatique, celui de la réduction de la surface d'attaque. Avoir une configuration réseau muni d'une base de données en plus du serveur web est plus dangereux car ce sont maintenant deux serveurs pouvant être pris pour cibles là où la version low-tech n'expose alors qu'un serveur web. Le low-tech n'est pas garantie de sécurité mais les deux aspects ont des caractéristiques équivalentes, comme nous l'avons dit un site low-tech réduit la surface d'attaque potentiel sans pour autant que ce soit l'objectif premier (il fallait surtout rester le plus simple possible dans l'architecture) du coup le cloissonnement aussi est respecté dans le low-tech. Comme il n'y a pas de bases de données superflux dans un site low-tech on évite également beaucoup d'occasion d'utiliser des formulaires qui pourraient être utilisés pour des attaques d'injections de script JavaScript dans la console ainsi que les problèmes de corruption de bases de données. Cependant un site low-tech ne protège pas des attaques par canaux auxiliaires (analyse de consommation du serveur, attaque par sondage, attaque temporaire, analyse du bruit du processeur), ces attaques deviennent de plus en plus présente car ces technologies s'améliorent et parce que la sécurité "mathématiques" des serveurs augmentent également.

La première étape consiste donc à avoir une réflexion sur la pertinence de créer un site web dynamique plûtot que statique. Par ailleurs, c'est une réflexion qui a, sans doute, déjà eu lieu dans chaque projet web durant l'étape de conception. C'est dans cette étape qu'il est important de prendre en compte le facteur low-tech et ne pas se cantonner à un jugement de valeur (comme par exemple qu'un site dynamique serait toujours meilleur qu'un site statique car il offre une plus grande adaptation au besoin de l'utilisateur, les arguments pour refuter ce jugement sont présentés dans ce chapitre) la conclusion de cette réflexion est pondérée par un certain nombre de facteurs (facilité de développement, hébergement, sécurité, etc).

### Style
L'apparence d'une page web est importante. C'est probablement une raison, déjà évoquée précédemment, pour laquelle la taille moyenne d'une page web ne fait qu'augmenter. Selon les sources citées dans les chapitres précédents, ce sont les images qui ont l'impact le plus important sur la taille d'une page web. Ainsi, c'est une bonne idée d'appliquer différentes méthodes de compression. Cependant, au delà des techniques de compression, il existe des méthodes comme le ["dithering" (wikipedia.org)](https://fr.wikipedia.org/wiki/Diffusion_d%27erreur) qui consiste à réduire le nombre de couleurs d'une image (parfois jusqu'au noir et blanc). 
![alt text](images/chat1.png)  ![alt text](images/chat2.png)
C'est une technique que nous trouvons intéressante car elle a un impact visuel très visible et en fonction du rendu voulu, l'image peut même être plus jolie. C'est là toute l'essence du mouvement low-tech : faire plus de choses avec moins de moyen. Le précédent exemple de [LowTech Magazine Solar](https://solar.lowtechmagazine.com/) est un bon exemple de site web qui utilise des images "dithered".

Au-delà des images, on peut aussi noter les différentes polices d'écriture (ou fonts en anglais) dont une page web a besoin. Les navigateurs ont tous un ou plusieurs fonts préchargés qu'ils peuvent utiliser par défault si la page web ne demande pas de font en particulier. Maintenant d'après ce que nous avons évoqué du Low-tech dans les chapitres précédant vous avez du comprendre là où nous voulons en venir : Il n'est pas nécessaire d'utiliser de jolies polices d'écritures personnalisées et il plus malin de mettre à profit celles par défaut.  On peut remarquer qu'en suivant cette idée, tout les visiteurs n'auront pas les mêmes styles car ces derniers seront dépendants du navigateur. De manière générale, c'est ce à quoi les développeurs low-tech doivent s'attendre car ce sera aussi le cas des boutons, champs de texte, couleurs par défaut, etc ; ils ne sont plus maîtres absolus de ce que les utilisateurs voient sur leurs pages web. Et c'est normal car le but, déjà expliqué, des sites web low-tech est de privilégier le contenu, la partie la plus importante d'une page web.

On peut même notifier que la tendance des 'dark modes', de mettre l'interface en couleur sombre voir noire est aussi un moyen de sauver de l'énergie. Comme nous pouvons le voir dans cet [article](https://blogmotion.fr/internet/google-in-black-version-ecolo-114) de Mr Xhark sur blogmotion.fr écrit en 2008 ! En effet la couleur correspond sur la plupart des appareils à un pixel "éteint" ou en tout cas moins lumineux qu'avec les autres couleurs, son affichage prend donc moins d'énergies aux différents postes clients.

### Logiciels tiers
Beaucoup d'entreprises financièrement dépendantes de leur sites web comme Youtube, Google ou encore Ebay attirent leurs "clients" avec la promesse d'un service **gratuit** il parait donc évident que ces entreprises doivent capitaliser ailleurs. Pour cela il existe à ce jour des alternatives commme l'utilisation de publicité. Cependant ajouter des publicités dans le sites augmente considérablement le poids du sites, elle représentait 39% du poids des pages web en 2015 d'après  [greenIT](https://www.greenit.fr/2015/09/01/la-publicite-represente-39-du-poids-des-pages-web/). Il n'existe pour l'instant pas de solution miracle pour ce problème sachant que les autres moyens de récolter de l'argent grâce à un site web demanderai encore plus de programmes tiers/ d'utilisation d'API afin de prendre directement de l'argent d'une carte de crédit par exemple. Il est serait en théorie possible d'instaurer une dynamique de sponsoring avec certaines entreprises spécifiques et on pourrait imaginer des pubs statiques sous la forme d'image dans le background du sites web de façon plus ou moins subtil ce qui limiterait la prise de poids et la consommation des ressources tout en garantissant la viabilité économique de la société du site low-tech (nous n'avons pas trouvé d'exemple concret utilisant cette stratégie).

Dans une même démarche d'optimisation du bénéfice d'un site web des outils existent comme ceux fournit par Google, Analytics. Il permet à l'administrateur de suivre la progression de son site en enregistrant notamment le nombre de personne consultant quotidiennement le site ou encore une estimation de ce que les publicités rapporteront par mois. Encore une fois l'utilisation de ce service, en plus des problèmes de sécurité et d'intégrité des données évidents (voir cette discussion très intéressante du forum [Linuxfr.org](https://linuxfr.org/users/fantastix/journaux/securite-vie-privee-et-google-analytics)), ce service ne respecte aucun principe du low-tech. Les données augmentent l'utilisation des bases de données de Google ce qui consomment énormément d'énergie à travers le monde mais il y a aussi un facteur de mode, Analytics est quasiment devenu un standard car la majorité des entreprises l'utilisent sauf que plus les entreprises l'utilisent plus le reste du marché vont l'utilisé pour ne pas avoir moins d'information que la concurrence.

Pour conclure nous pensons qu'un site pensé pour être low-tech se doit d'éviter un maximum tout logiciel tiers afin de respecter les principes sur lesquels il est construit.

### Hébergement d'un site low-tech

Une fois que vous avez décidé du contenu de votre site web et que son style épuré, sobre mais percutant aura donner envie à vos connaissances de croire en votre projet, il vous faut maintenant donner un libre accès à votre site à Internet ! Il existe un nombre conséquent d'hébergeurs possibles, cependant certains donnent plus facilement accès à leur consommation d'énergie et sont considérés "verts" comme par exemple [Aiso](https://www.aiso.net/) ou [Greengeeks](https://www.greengeeks.com/). 

Pour les sites déjà hébergés et voulant une idée de la méthodologie afin de réaliser une transition vers le low-tech du côté hébergement nous suivrons l'initiative de Gauthier Roussilhe détaillé sur cet [article](https://gauthierroussilhe.com/fr/posts/convert-low-tech#server) de son site low-tech. Nous commencerons par prendre pleinement conscience des équipements déjà utilisé et à notre possésion (anciens ordinateurs de bureau pouvant servir d'hébergeur, carte Raspberry PI,...) puis nous adapterons la solution au trafic habituel sur le site (votre ancien hébergeur ne ce souciant pas du Low-tech, n'a pas prit la peine de lire notre chapitre et donc ne sais pas ce que nous pensons des Analytics !), nous essaieront dans la mesure du possible de rester sur des serveurs géographiquement proches. Pour finir nous nous tournerons vers les solutions les plus transparents possibles en matière de consommation énergétique de serveur afin de faire notre choix.

Notez que la méthodologie est quasiment la même pour un site n'ayant jamais été héberger avant, sauf qu'il va falloir y aller un peu plus à l'aveuglette en ce qui concerne le trafic moyen. 

Au niveau du prix il faut compter généralement entre 3 et 5 euros par mois pour un site style blog chez un hébergeur "vert" (chiffre d'Aiso et Greengeeks). On peut arriver jusqu'à 25 euros par mois pour un site contenant au maximum 75 pages et 20 bases de données.

Nous pouvons aussi considérer, comme annoncé précédemment, d'héberger soit même notre site. D'après Gauthier Roussilhe il n'est pas intéressant de s'y atteler à moins de disposer au préalable du hardware (une machine physique style tour de PC ou microcontrolleur) et certaines compétences de maintenances et de sécurité. On peut trouver de la documentation sur la récupération de matériel informatique sur [Lowtech.org](Lowtech.org). Même si l'hébergement local peut être cher, si on en connait les avantages et les limites cela peut toujours être intéressant pour beaucoup de projet. Après avoir sélectionner la/les machines (hardwares) et s'être assurer de son alimentation et de son refroissement, il faut maintenant configurer l'infrastructure réseau (configuration de routeurs et modems pour gérer de fort trafics). Si vous n'avez pas les connaissances techniques et/ou que votre projet de site est à petite échelle vous pouvez passé l'étape précédente ! Ensuite vous télécharger un système d'exploitation de serveur web (nous conseillons Apache ou Nginx, les plus populaires). Enfin plus qu'à transférer les fichiers de son site web jusqu'à sa machine à l'aide d'un client FTP ! Pour plus d'information voir le [lien](https://www.webhostingsecretrevealed.net/fr/web-hosting-beginner-guide/) d'où nous avons tiré ces informations.

Il faudra ensuite acheter un nom de domaine (une adresse IP n'étant généralement pas très efficace à utiliser et à retenir pour un être humain). Il arrive maintenant que les hébergeurs en lignes offrent un nom de domaine avec leurs autres services, sinon il faudra l'acheter nous-mêmes (voir tuto [ici](https://www.webhostingsecretrevealed.net/fr/blog/web-hosting-guides/domain-name-for-dummies-how-to-buy-a-domain-name/#4)).