<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Les sites web low-tech</title>
    <link href="03-taille.css" rel="stylesheet" />
  </head>

  <body id="body">
    <section class="main">
      <h2>La taille des sites web</h2>

      <div id="définition">
        La taille d'une page web - aussi appelé poids - correspond à la taille
        globale des fichiers de la page web reçus par le navigateur.
      </div>

      Ce poids est mesuré, comme pour tout fichier informatique, en octet. Ainsi
      pour une page web la taille est de l'ordre de grandeur de quelques méga
      octets<a class="footnote" href="#source1">[1]</a>.

      <h3>Comment évaluer la taille d'une page web ?</h3>

      <h3>Le poids des pages web ne cesse d'augmenter</h3>
      <div id="frise-taille">
        <span id="2010" class="frise-annee">2010</span
        ><img
          class="frise-fleche"
          src="./right-arrow.svg"
          alt="Flèche vers la droite"
        />
        <span id="2015" class="frise-annee">2015</span
        ><img
          class="frise-fleche"
          src="./right-arrow.svg"
          alt="Flèche vers la droite"
        />
        <span id="2020" class="frise-annee">2020</span>
      </div>
      <div id="frise-popup">
        <div id="frise-popup-container">
          <p id="popup-taille"></p>
          <button id="bouton-fermer">Fermer</button>
        </div>
      </div>

      <p>
        On peut constater que ce poids augmente fortement d'année en année, il
        était en moyenne de 1.92Mo pour un site Desktop en 2015 et avoisinnait
        les 2.5Mo en 2018<a class="footnote" href="#source2">[2]</a>. C'est
        autant que le jeu vidéo Doom dans son ensemble !<br />
        Il est aussi dit que le poids des sites mobiles a augmenté de 50% entre
        2018 et 2020<a class="footnote" href="#source3">[3]</a>.
      </p>

      <p>
        Au delà de cette évolution on peut se demander quels sont les sites web
        qui sont les plus consultés aujourd'hui. En effet, il existe plus de 1,6
        milliards de sites web dans le monde dont plus de 2 millions de blogs
        publiés chaque jour sur Internet. Plus de 23,6 milliards de pages
        chaques mois rien que sur WordPress (présent sur plus de 40% des sites
        web en ligne actuellement)<a class="footnote" href="#source4">[4]</a>.
        Wordpress héberge des sites comme le New York Times ou Forbes.
        <a class="footnote" href="#source5">[5]</a> Or comme il a été dit dans
        l'introduction et le chapitre 1, l'utilisation de CMS engendre souvent
        des pages web plus lourdes.<br />
        Aussi les réseaux sociaux occupent une part importante du trafic (3
        milliards d’utilisateurs en 2020). Les réseaux sociaux sont constitués
        de pages lourdes : Présence de boutons, de nombreuses images et vidéos,
        de publicitées ou encore de trackers...<br />
        L'ajout constant de nouvelles <i>features</i> entraine un allongement du
        code qui lui même entraine un alourdissement du site.
      </p>

      <h3>Plus c'est léger, mieux c'est.</h3>

      Le poids est un facteur très alarmant de la vitesse de chargement d'un
      site web. Google prend en compte le temps de chargements pour le
      référencement des sites web, on a donc tout intéret à réduire la taille de
      nos pages. Les sites figurant sur la premère page de résultats du moteur
      de recherche (SERPs) Google ont une vitesse de chargement moyenne
      inférieure à 2 secondes. Et pour cause en 2020, 40% des internautes
      abandonnent un site web si le chargement prend plus de 3 secondes.<a
        class="footnote"
        href="#source6"
        >[4]</a
      >

      Qu'on soit développeur ou non, il est indispensable de s'attarder sur
      cette problématique.

      <p>
        Pour relativiser on peut noter que le standard de poids "à ne pas
        dépasser", c'est à dire le poids qui rend le chargement d'un site trop
        long, évolue lui aussi. Et pour cause : les technologies évoluent dans
        leur ensemble. La puissance des ordinateurs, la performance des
        navigateurs mais aussi et surtout une amélioration considérable des
        systèmes réseaux (démocratisation de la fibre optique dans le monde,
        l'apparition de la 3G puis 4G et maintenant la 5G) permettent un
        chargement rapide de fichiers plus volumineux.
      </p>
      <p>
        D'un point de vue écologique cela reste bien évidémment contestable : si
        on augmente la puissance des infrastructures, il est évident que l'on
        pourra transmettre plus de données mais cela sera inévitablement plus
        couteux en ressources. D'autant que l'on peut questionner la pertinence
        de développer des sites plus lourd. Transmet on aujourd'hui plus
        d'information sur une page web qu'avant ? On peut douter du fait que
        l'augmentation du poids d'une page soit proportionnelle à
        l'enrichissement de son contenu et même à l'amélioration de l'experience
        utilisateur. Un exemple de cela serait le "No Fucking JS Spirit" employé
        entre autre par la société Artwai<a class="footnote" href="#source7"
          >[7]</a
        >. Si on devait résumer ce concept ce serait programmer intelligemment
        le site web en connaissant certaines subtilités du JavaScript comme le
        Binding ou la fermeture lexicale afin d'obtenir un site remplissant sa
        fonction avec le poids minimum possible.
      </p>
      <p>
        Aussi l'économie du web aujourd'hui est fondé en grande partie sur la
        publicité qui contribut à une partie de l'augmentation du poids des
        pages. Dans un premier temps parce que les publicités peuvent peser très
        lourd (images et vidéos pour identifier un produit, des liens ou même
        des scripts JS). Mais aussi car cela est lié à l'économie de l'attention
        : il s'agit d'attirer et de faire rester les utilisateurs sur la page
        web. Pour cela les <i>designers</i> cherchent à stimuler l'esprit de
        l'utilisateur par de nombreuses images et animations.
      </p>

      <h3>Diminuer le poids d'une page</h3>

      <h4>Du côté developpeur</h4>

      De manière générale, il s'agit de minimiser la taille du code de la page
      web mais aussi celle de toutes les ressources. Ainsi il faut optimiser
      l'utilisation de toutes les images ainsi qu'en compresser le maximum. Il
      faut aussi prendre en compte le poids de fichiers externes comme les CSS
      et JavaScript, éviter d'utiliser trop de librairies JS différentes,
      concaténer les fichiers, etc. - Certains designs peuvent augmenter le
      poids d'une page. Il faut sensibiliser les graphistes, et s'assurer que le
      design répond aux objectifs du site.

      <ul>
        <li>
          Les minimiseurs (Closure Compiler de Google, Clean CSS) sont des
          outils qui permettent de réduire automatiquement la taille du code.
        </li>
        <li>
          Il existe des équivalents de jQuery avec la même syntaxe mais
          utilisant seulement les fonctions essentielles.
        </li>
        <li>
          Adopter une syntaxe dite "vectorisé" qui permet de réduire la taille
          du CSS.
        </li>
        <li>Supprimer les descriptions non utilisées.</li>
      </ul>

      <h4>Du côté utilisateur</h4>

      Comme on l'a vu, les publicités jouent un rôle important dans le poids des
      pages web. Il en va de même pour les trackers qu'utilisent certains sites
      afin d'analyser leurs statistiques. En effets, ces trackers sont souvent
      des outils lourd. A l'instard des librairies, ceux-ci ne sont pas
      forcément adaptés aux besoins du site. Ce sont des outils génériques
      proposées par exemple par Google... De plus ceux-ci utilise généralement
      du Javascript et jQuery afin de réagir dynamiquement à l'activité de
      l'utilisateur et de communiquer ces informations au serveur (ce qui, au
      passage, entraine un grand nombre de requète supplémentaire).<br />
      Une solution pour l'utilisateur peut alors être un bloqueur comme adBlock.
      Celui-ci à pour rôle de bloquer/supprimer les trakers et publicités.
      L'effet peut être concidérable. Par exemple le poids de la page d'acceuil
      du Figaro est divisé par 3 sans publicités<a
        class="footnote"
        href="#source8"
        >[8]</a
      >.<br />
      Cependant faire ça peut nuire au développement du site web car le modèle
      économique de beaucoup d'entreprise basé en ligne se joue essentiellement
      sur la publicité. C'est donc une pratique à modérer. Au delà de ça,
      certains navigateurs et extensions proposes des outils pour bloquer
      certains scripts Javascript ou pour réduir le chargement d'images en les
      compressant.<br />
      Malheureusement, ces solutions ne sont pas parfaites. La page n'est plus
      légère que pour l'utilisateur. En effet, la quantité de donnée qui aura
      transité entre le serveur et le client sera la même.

      <h3>Sources</h3>
      <p>Pour aller plus loin...</p>
      <table>
        <tr>
          <th>ID</th>
          <th>Lien</th>
        </tr>
        <tr>
          <td id="source1">[1]</td>
          <td>
            <a
              href="https://developer.akamai.com/blog/2018/05/30/demystifying-api-rate-limiting"
              >Demystifying API Rate Limiting</a
            >
          </td>
        </tr>
        <tr>
          <td id="source2">[2]</td>
          <td>
            <a href="https://www.artwai.com/poids-moyen-des-pages-web-en-2018/"
              >Web 2018: plus lourd, plus lent</a
            >
          </td>
        </tr>
        <tr>
          <td id="source3">[3]</td>
          <td>
            <a href="https://httparchive.org/reports/page-weight"
              >Report page-weight</a
            >
          </td>
        </tr>
        <tr>
          <td id="source4">[4]</td>
          <td>
            <a href="https://w3techs.com/technologies/details/cm-wordpress"
              >Usage statistics and market share of WordPress</a
            >
          </td>
        </tr>
        <tr>
          <td id="source5">[5]</td>
          <td>
            <a href="https://www.alioze.com/chiffres-web"
              >CHIFFRES & TENDANCES DU WEB 2020</a
            >
          </td>
        </tr>
        <tr>
          <td id="source6">[6]</td>
          <td>
            <a href="https://neilpatel.com/blog/loading-time/?wide=1"
              >How loading time affects your bottom line</a
            >
          </td>
        </tr>
        <tr>
          <td id="source7">[7]</td>
          <td>
            <a href="https://www.artwai.com/a-propos/integration-web/"
              >Intégration web selon Artwai</a
            >
          </td>
        </tr>
        <tr>
          <td id="source8">[8]</td>
          <td>
            <a
              href="https://www.dsfc.net/internet/bloqueur-publicitaire/poids-reel-page-site-web/"
              >Connaître le poids réel d’une page d’un site Web</a
            >
          </td>
        </tr>
      </table>
      <p>
        Chapitre écrit par Youssef El Saadany, Joseph Gabet, Mehdi Larid et
        Xiang Li.
      </p>
    </section>
  </body>
  <script src="03-taille.js"></script>
</html>
